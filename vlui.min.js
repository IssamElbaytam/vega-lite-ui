!function(){"use strict";angular.module("vlui",["LocalStorageModule","angular-websql"]).constant("_",window._).constant("dl",window.dl).constant("vl",window.vl).constant("vg",window.vg).constant("Papa",window.Papa).constant("Blob",window.Blob).constant("URL",window.URL).constant("Drop",window.Drop).constant("consts",{addCount:!0,debug:!0,useUrl:!0,logging:!1,defaultConfigSet:"large",appId:"polestar"})}(),function(){angular.module("vlui").run(["$templateCache",function(t){t.put("fieldinfo/fieldinfo.html",'<span class="field-info"><span class="hflex full-width" ng-click="clicked($event)"><span class="type-caret" ng-class="{active: !disableCountOrOCaret || (field.type!==\'O\' && field.aggr!==\'count\')}"><i class="fa fa-caret-down" ng-show="showCaret"></i> <span class="type icon-small icon-type-{{typeNames[field.type]}}" ng-show="showType" title="{{typeNames[field.type]}}">{{field.type}}</span></span> <span ng-if="field.aggr!==\'count\'" class="field-info-text"><span ng-if="func(field)" class="field-func" ng-class="{any: field._any}">{{ func(field) }}</span><span class="field-name" ng-class="{hasfunc: func(field), any: field._any}">{{ field.name | underscore2space }}</span></span> <span ng-if="field.aggr===\'count\'" class="field-count field-info-text"><span class="field-name">COUNT</span></span> <span class="no-shrink remove" ng-show="showRemove"><a class="remove-field" ng-click="removeAction()"><i class="fa fa-times"></i></a></span> <span class="no-shrink info" ng-show="showInfo"><i ng-if="field.aggr !== \'count\' && field.type === \'O\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-content="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min}}<br> <strong>Max:</strong> {{stats.max}}<br> <strong>Max length:</strong> {{stats.maxlength | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggr !== \'count\' && field.type === \'T\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-content="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | date: short}}<br> <strong>Max:</strong> {{stats.max | date: short}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i> <i ng-if="field.aggr !== \'count\' && field.type === \'Q\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-content="<div class=\'tooltip-content\'> <strong>Name:</strong> {{field.name}}<br> <strong>Cardinality:</strong> {{stats.distinct | number}}<br> <strong>Min:</strong> {{stats.min | number}}<br> <strong>Max:</strong> {{stats.max | number}}<br> <strong>Stdev:</strong> {{stats.stdev | number:2}}<br> <strong>Mean:</strong> {{stats.mean | number:2}}<br> <strong>Median:</strong> {{stats.median | number}}<br> <strong>Sample:</strong> <span class=\'sample\'>{{stats.sample.join(\', \')}}</span> </div>" tooltip-side="right"></i><i ng-if="field.aggr === \'count\'" class="fa fa-info-circle" tooltips="" tooltip-size="small" tooltip-content="<div class=\'tooltip-content\'> <strong>Count:</strong> {{count}} </div>" tooltip-side="right"></i></span></span></span>')}])}(),function(){"use strict";angular.module("vlui").service("Bookmarks",function(t,e,n,a){var r=function(){this.dict={},this.length=0},o=r.prototype;return o.updateLength=function(){this.length=Object.keys(this.dict).length},o.save=function(){n.set("bookmarks",this.dict)},o.load=function(){this.dict=n.get("bookmarks")||{},this.updateLength()},o.clear=function(){this.dict={},this.updateLength(),this.save(),a.logInteraction(a.actions.BOOKMARKS_CLEAR)},o.toggle=function(t){var e=t.shorthand;this.dict[e]?this.remove(t):this.add(t)},o.add=function(e){var n=e.shorthand;console.log("adding",e.vlSpec,n),e.timeAdded=(new Date).getTime(),this.dict[n]=t.cloneDeep(e),this.updateLength(),this.save(),a.logInteraction(a.actions.BOOKMARK_ADD,n)},o.remove=function(t){var e=t.shorthand;console.log("removing",t.vlSpec,e),delete this.dict[e],this.updateLength(),this.save(),a.logInteraction(a.actions.BOOKMARK_REMOVE,e)},o.isBookmarked=function(t){return t in this.dict},new r})}(),function(){"use strict";function t(t){return t.reduce(function(t,e){return t[e.name]=e,t},{})}var e=[{name:"Barley",url:"data/barley.json",id:"barley"},{name:"Cars",url:"data/cars.json",id:"cars"},{name:"Crimea",url:"data/crimea.json",id:"crimea"},{name:"Driving",url:"data/driving.json",id:"driving"},{name:"Iris",url:"data/iris.json",id:"iris"},{name:"Jobs",url:"data/jobs.json",id:"jobs"},{name:"Population",url:"data/population.json",id:"population"},{name:"Movies",url:"data/movies.json",id:"movies"},{name:"Birdstrikes",url:"data/birdstrikes.json",id:"birdstrikes"},{name:"Burtin",url:"data/burtin.json",id:"burtin"},{name:"Budget 2016",url:"data/budget.json",id:"budget"},{name:"Climate Normals",url:"data/climate.json",id:"climate"},{name:"Campaigns",url:"data/weball26.json",id:"weball26"}];angular.module("vlui").factory("Dataset",function(n,a,r,o,i,s){var l={};return l.datasets=e,l.dataset=e[1],l.dataschema=[],l.dataschema.byName={},l.stats={},l.type=void 0,l.typeNames={O:"text",Q:"number",T:"time",G:"geo"},l.fieldOrder=s.field.order.typeThenName,l.getSchema=function(t,e,n){var a=i.read.types(t),o=r.reduce(a,function(t,e,n){return t.push({name:n,type:s.data.types[e]}),t},[]);return o=i.stablesort(o,n||s.field.order.typeThenName,s.field.order.name),o.push(s.field.count()),o.forEach(function(t){var n=e[t.name];void 0!==n&&"Q"===t.type&&n.distinct<=20&&(n.distinct<(n.count-n.numNulls)/50||n.distinct<=7)&&(t.type="O")}),o},l.getStats=function(t){var e=i.summary(t);return e.reduce(function(t,e){return t[e.field]=e,t},{count:t.length})},l.update=function(e){return n.get(e.url,{cache:!0}).then(function(e){if(r.isObject(e.data))l.data=e.data,l.type="json";else{var n=o.parse(e.data,{dynamicTyping:!0,header:!0});if(0!==n.errors.length)return r.each(n.errors,function(t){a.add(t.message,2e3)}),void 0;l.data=n.data,l.type="csv"}l.stats=l.getStats(l.data),l.dataschema=l.getSchema(l.data,l.stats),l.dataschema.byName=t(l.dataschema)})},l.add=function(t){t.id||(t.id=t.url),e.push(t)},l})}(),function(){"use strict";angular.module("vlui").directive("fieldInfo",function(t,e){return{templateUrl:"fieldinfo/fieldinfo.html",restrict:"E",replace:!0,scope:{field:"=",showType:"=",showInfo:"=",showCaret:"=",popupContent:"=",showRemove:"=",removeAction:"&",action:"&",disableCountOrOCaret:"="},link:function(n,a){var r;n.typeNames=t.typeNames,n.stats=t.stats[n.field.name],n.count=t.stats.count,n.clicked=function(t){n.action&&t.target!==a.find(".fa-caret-down")[0]&&t.target!==a.find("span.type")[0]&&n.action(t)},n.func=function(t){return t.aggr||t.fn||t.bin&&"bin"||t._aggr||t._fn||t._bin&&"bin"||t._any&&"auto"},n.$watch("popupContent",function(t){t&&(r=new e({content:t,target:a.find(".type-caret")[0],position:"bottom left",openOn:"click"}))})}}})}(),function(){"use strict";angular.module("vlui").service("Logger",function(t,e,n,a,r,o,i){var s={},l=t.search().user;return s.db=n.openDatabase("logs","1.0","Logs",2097152),s.tableName="log_"+a.appId,s.actions={UNDO:"UNDO",REDO:"REDO",DATASET_CHANGE:"DATASET_CHANGE",CHART_MOUSEOVER:"CHART_MOUSEOVER",CHART_MOUSEOUT:"CHART_MOUSEOUT",CHART_RENDER:"CHART_RENDER",CHART_EXPOSE:"CHART_EXPOSE",CHART_TOOLTIP:"CHART_TOOLTIP",BOOKMARK_ADD:"BOOKMARK_ADD",BOOKMARK_REMOVE:"BOOKMARK_REMOVE",BOOKMARKS_CLEAR:"BOOKMARKS_CLEAR",NULL_FILTER_TOGGLE:"NULL_FILTER_TOGGLE",TRANSPOSE_TOGGLE:"TRANSPOSE_TOGGLE",SORT_TOGGLE:"SORT_TOGGLE",MARKTYPE_TOGGLE:"MARKTYPE_TOGGLE",LOG_TOGGLE:"LOG_TOGGLE",FUNC_CHANGE:"FUNC_CHANGE",SPEC_CHANGE:"SPEC_CHANGE",FIELD_DROP:"FIELD_DROP",MARK_CHANGE:"MARK_CHANGE",FIELDS_CHANGE:"FIELDS_CHANGE",FIELDS_RESET:"FIELDS_RESET",DRILL_DOWN_OPEN:"DRILL_DOWN_OPEN",DRILL_DOWN_CLOSE:"DRILL_DOWN_CLOSE",CLUSTER_SELECT:"CLUSTER_SELECT",LOAD_MORE:"LOAD_MORE"},s.createTableIfNotExists=function(){s.db.createTable(s.tableName,{userid:{type:"INTEGER","null":"NOT NULL"},time:{type:"TIMESTAMP","null":"NOT NULL","default":"CURRENT_TIMESTAMP"},action:{type:"TEXT","null":"NOT NULL"},data:{type:"TEXT"},diff:{type:"TEXT"}})},s.clear=function(){var t=e.confirm("Really clear the logs?");t===!0&&(s.db.dropTable(s.tableName),s.createTableIfNotExists())},s.export=function(){s.db.selectAll(s.tableName).then(function(t){if(0===t.rows.length)return console.warn("No logs"),void 0;for(var e=[],n=0;n<t.rows.length;n++)e.push(t.rows.item(n));var a=r.unparse(e),l=new o([a],{type:"text/csv"}),c=i.createObjectURL(l),u=angular.element("<a/>");u.attr({href:c,target:"_blank",download:s.tableName+".csv"})[0].click()})},s.logInteraction=function(t,e,n){if(a.logging){var r={userid:l,action:t};void 0!==e&&(r.data=JSON.stringify(e)),void 0!==n&&(r.diff=JSON.stringify(n)),s.db.insert(s.tableName,r).then(function(){})}},s.createTableIfNotExists(),s})}(),function(){"use strict";angular.module("vlui").service("Alerts",function(t,e){var n={};return n.alerts=[],n.add=function(a,r){var o={msg:a};n.alerts.push(o),r&&t(function(){var t=e.findIndex(n.alerts,o);n.closeAlert(t)},r)},n.closeAlert=function(t){n.alerts.splice(t,1)},n})}(),function(){(function(){function t(e,a){function o(t){if(o[t]!==m)return o[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=o("json-stringify")&&o("json-parse");else{var n,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var l=a.stringify,u="function"==typeof l&&O;if(u){(n=function(){return 1}).toJSON=n;try{u="0"===l(0)&&"0"===l(new i)&&'""'==l(new s)&&l(y)===m&&l(m)===m&&l()===m&&"1"===l(n)&&"[1]"==l([n])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,y,null])&&l({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})==r&&"1"===l(null,n)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(f){u=!1}}e=u}if("json-parse"==t){var d=a.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(r);var g=5==n.a.length&&1===n.a[0];if(g){try{g=!d('"	"')}catch(f){}if(g)try{g=1!==d("01")}catch(f){}if(g)try{g=1!==d("1.")}catch(f){}}}}catch(f){g=!1}e=g}}return o[t]=!!e}e||(e=r.Object()),a||(a=r.Object());var i=e.Number||r.Number,s=e.String||r.String,l=e.Object||r.Object,c=e.Date||r.Date,u=e.SyntaxError||r.SyntaxError,f=e.TypeError||r.TypeError,d=e.Math||r.Math,g=e.JSON||r.JSON;"object"==typeof g&&g&&(a.stringify=g.stringify,a.parse=g.parse);var p,h,m,v=l.prototype,y=v.toString,O=new c(-0xc782b5b800cec);try{O=-109252==O.getUTCFullYear()&&0===O.getUTCMonth()&&1===O.getUTCDate()&&10==O.getUTCHours()&&37==O.getUTCMinutes()&&6==O.getUTCSeconds()&&708==O.getUTCMilliseconds()}catch(b){}var T="[object Function]",E="[object Date]",_="[object Number]",C="[object String]",A="[object Array]",N="[object Boolean]",S=o("bug-string-char-index");if(!O)var R=d.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],L=function(t,e){return w[e]+365*(t-1970)+R((t-1969+(e=+(e>1)))/4)-R((t-1901+e)/100)+R((t-1601+e)/400)};(p=v.hasOwnProperty)||(p=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?p=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,p=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,p.call(this,t)}),h=function(t,e){var a,r,o,i=0;(a=function(){this.valueOf=0}).prototype.valueOf=0,r=new a;for(o in r)p.call(r,o)&&i++;return a=r=null,i?h=2==i?function(t,e){var n,a={},r=y.call(t)==T;for(n in t)r&&"prototype"==n||p.call(a,n)||!(a[n]=1)||!p.call(t,n)||e(n)}:function(t,e){var n,a,r=y.call(t)==T;for(n in t)r&&"prototype"==n||!p.call(t,n)||(a="constructor"===n)||e(n);(a||p.call(t,n="constructor"))&&e(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],h=function(t,e){var a,o,i=y.call(t)==T,s=!i&&"function"!=typeof t.constructor&&n[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(a in t)i&&"prototype"==a||!s.call(t,a)||e(a);for(o=r.length;a=r[--o];s.call(t,a)&&e(a));}),h(t,e)};var j={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},U="000000",M=function(t,e){return(U+(e||0)).slice(-t)},D="\\u00",I=function(t){for(var e='"',n=0,a=t.length,r=!S||a>10,o=r&&(S?t.split(""):t);a>n;n++){var i=t.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=j[i];break;default:if(32>i){e+=D+M(2,i.toString(16));break}e+=r?o[n]:t.charAt(n)}}return e+'"'},G=function(t,e,n,a,r,o,i,s){var l,c,u,d,g,v,O,b,T,S,w,j,U,D,x,k;s=s||0;try{l=e[t]}catch(K){}if("object"==typeof l&&l)if(c=y.call(l),c!=E||p.call(l,"toJSON"))"function"==typeof l.toJSON&&(c!=_&&c!=C&&c!=A||p.call(l,"toJSON"))&&(l=l.toJSON(t));else if(l>-1/0&&1/0>l){if(L){for(g=R(l/864e5),u=R(g/365.2425)+1970-1;L(u+1,0)<=g;u++);for(d=R((g-L(u,0))/30.42);L(u,d+1)<=g;d++);g=1+g-L(u,d),v=(l%864e5+864e5)%864e5,O=R(v/36e5)%24,b=R(v/6e4)%60,T=R(v/1e3)%60,S=v%1e3}else u=l.getUTCFullYear(),d=l.getUTCMonth(),g=l.getUTCDate(),O=l.getUTCHours(),b=l.getUTCMinutes(),T=l.getUTCSeconds(),S=l.getUTCMilliseconds();l=(0>=u||u>=1e4?(0>u?"-":"+")+M(6,0>u?-u:u):M(4,u))+"-"+M(2,d+1)+"-"+M(2,g)+"T"+M(2,O)+":"+M(2,b)+":"+M(2,T)+"."+M(3,S)+"Z"}else l=null;if(n&&(l=n.call(e,t,l)),null===l)return"null";if(c=y.call(l),c==N)return""+l;if(c==_)return l>-1/0&&1/0>l?""+l:"null";if(c==C)return I(""+l);if("object"==typeof l){for(D=i.length;D--;)if(i[D]===l)throw f();if(i.push(l),w=[],x=o,o+=r,c==A){var k,P=o.length;for(U=0,D=l.length;D>U;U++)j=G(U,l,n,a,r,o,i,s),k=j===m?"null":j,P+=k.length+(U>0?1:0),w.push(k);k=w.length?r&&P>s?"[\n"+o+w.join(",\n"+o)+"\n"+x+"]":"["+w.join(",")+"]":"[]"}else{var P=o.length,U=0;h(a||l,function(t){var e,c=G(t,l,n,a,r,o,i,s);c!==m&&(e=I(t)+":"+(r?" ":"")+c,P+=e.length+(U++>0?1:0),w.push(e))}),k=w.length?r&&P>s?"{\n"+o+w.join(",\n"+o)+"\n"+x+"}":"{"+w.join(",")+"}":"{}"}return i.pop(),k}};if(a.stringify=function(t,e,a,r){var o,i,s,l;if(n[typeof e]&&e)if((l=y.call(e))==T)i=e;else if(l==A){s={};for(var c,u=0,f=e.length;f>u;c=e[u++],l=y.call(c),(l==C||l==_)&&(s[c]=1));}if(a)if((l=y.call(a))==_){if((a-=a%1)>0)for(o="",a>10&&(a=10);o.length<a;o+=" ");}else l==C&&(o=a.length<=10?a:a.slice(0,10));return G("",(c={},c[""]=t,c),i,s,o,"",[],r)},a.compactStringify=function(t,e,n){return a.stringify(t,e,n,60)},!o("json-parse")){var x,k,K=s.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},H=function(){throw x=k=null,u()},J=function(){for(var t,e,n,a,r,o=k,i=o.length;i>x;)switch(r=o.charCodeAt(x)){case 9:case 10:case 13:case 32:x++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=S?o.charAt(x):o[x],x++,t;case 34:for(t="@",x++;i>x;)if(r=o.charCodeAt(x),32>r)H();else if(92==r)switch(r=o.charCodeAt(++x)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=P[r],x++;break;case 117:for(e=++x,n=x+4;n>x;x++)r=o.charCodeAt(x),r>=48&&57>=r||r>=97&&102>=r||r>=65&&70>=r||H();t+=K("0x"+o.slice(e,x));break;default:H()}else{if(34==r)break;for(r=o.charCodeAt(x),e=x;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++x);t+=o.slice(e,x)}if(34==o.charCodeAt(x))return x++,t;H();default:if(e=x,45==r&&(a=!0,r=o.charCodeAt(++x)),r>=48&&57>=r){for(48==r&&(r=o.charCodeAt(x+1),r>=48&&57>=r)&&H(),a=!1;i>x&&(r=o.charCodeAt(x),r>=48&&57>=r);x++);if(46==o.charCodeAt(x)){for(n=++x;i>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==x&&H(),x=n}if(r=o.charCodeAt(x),101==r||69==r){for(r=o.charCodeAt(++x),(43==r||45==r)&&x++,n=x;i>n&&(r=o.charCodeAt(n),r>=48&&57>=r);n++);n==x&&H(),x=n}return+o.slice(e,x)}if(a&&H(),"true"==o.slice(x,x+4))return x+=4,!0;if("false"==o.slice(x,x+5))return x+=5,!1;if("null"==o.slice(x,x+4))return x+=4,null;H()}return"$"},B=function(t){var e,n;if("$"==t&&H(),"string"==typeof t){if("@"==(S?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=J(),"]"!=t;n||(n=!0))n&&(","==t?(t=J(),"]"==t&&H()):H()),","==t&&H(),e.push(B(t));return e}if("{"==t){for(e={};t=J(),"}"!=t;n||(n=!0))n&&(","==t?(t=J(),"}"==t&&H()):H()),(","==t||"string"!=typeof t||"@"!=(S?t.charAt(0):t[0])||":"!=J())&&H(),e[t.slice(1)]=B(J());return e}H()}return t},F=function(t,e,n){var a=V(t,e,n);a===m?delete t[e]:t[e]=a},V=function(t,e,n){var a,r=t[e];if("object"==typeof r&&r)if(y.call(r)==A)for(a=r.length;a--;)F(r,a,n);else h(r,function(t){F(r,t,n)});return n.call(t,e,r)};a.parse=function(t,e){var n,a;return x=0,k=""+t,n=B(J()),"$"!=J()&&H(),x=k=null,e&&y.call(e)==T?V((a={},a[""]=n,a),"",e):n}}return a.runInContext=t,a}var e="function"==typeof define&&define.amd,n={"function":!0,object:!0},a=n[typeof exports]&&exports&&!exports.nodeType&&exports,r=n[typeof window]&&window||this,o=a&&n[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;if(!o||o.global!==o&&o.window!==o&&o.self!==o||(r=o),a&&!e)t(r,a);else{var i=r.JSON,s=r.JSON3,l=!1,c=t(r,r.JSON3={noConflict:function(){return l||(l=!0,r.JSON=i,r.JSON3=s,i=s=null),c}});r.JSON={parse:c.parse,stringify:c.stringify}}e&&define(function(){return c})}).call(this)}(),function(){"use strict";angular.module("vlui").filter("compactJSON",function(){return function(t){return JSON.stringify(t,null,"  ",80)}})}(),function(){"use strict";angular.module("vlui").filter("encodeURI",function(){return function(t){return window.encodeURI(t)}})}(),function(){"use strict";angular.module("vlui").filter("reportUrl",function(t,e,n){function a(n){var a="https://docs.google.com/forms/d/1T9ZA14F3mmzrHR7JJVUKyPXzrMqF54CjLIOjv2E7ZEM/viewform?";if(n.fields){var r=encodeURI(t(e.values(n.fields)));a+="entry.1245199477="+r+"&"}if(n.encoding){var o=e.omit(n.encoding,"config");o=encodeURI(t(o)),a+="entry.1323680136="+o+"&"}if(n.encoding2){var i=e.omit(n.encoding2,"config");i=encodeURI(t(i)),a+="entry.853137786="+i+"&"}var s="entry.1940292677=";switch(n.type){case"vl":a+=s+"Visualization+Rendering+(Vegalite)&";break;case"vr":a+=s+"Recommender+Algorithm+(Visrec)&";break;case"fv":a+=s+"Recommender+UI+(FacetedViz)&"}return a}function r(n){var a="https://docs.google.com/forms/d/1xKs-qGaLZEUfbTmhdmSoS13OKOEpuu_NNWE5TAAml_Y/viewform?";if(n.encoding){var r=e.omit(n.encoding,"config");r=encodeURI(t(r)),a+="entry.1245199477="+r+"&"}return a}return"voyager"===n.appId?a:r})}(),function(){"use strict";angular.module("vlui").filter("scaleType",function(){return function(t){var e={Q:"Quantitative",O:"Ordinal",T:"Time"};return e[t]}})}(),function(){"use strict";angular.module("vlui").filter("underscore2space",function(){return function(t){return t?t.replace(/_+/g," "):""}})}();